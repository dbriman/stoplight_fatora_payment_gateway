{
  "openapi": "3.0.0",
  "info": {
    "title": "onetime_payment",
    "version": "1.0",
    "license": {
      "name": "License (MIT, Apache 20,etc)",
      "url": "https://fatora.io"
    },
    "contact": {},
    "description": "This API allows the merchant application to initialize a onetime payment and get the URL of checkout page."
  },
  "servers": [
    {
      "url": "http://fatora-api.azurewebsites.net"
    }
  ],
  "paths": {
    "/payments/onetime_payment": {
      "post": {
        "tags": [
          "fatora.io",
          "paymentgateway"
        ],
        "summary": "This API allows the merchant application to initialize a onetime payment and get the URL of checkout page.",
        "operationId": "post-onetime_payment",
        "responses": {
          "200": {
            "description": "onetime payments added successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/OnetimePayment"
                },
                "examples": {
                  "Onetime payment": {
                    "value": {
                      "token": "E4B73FEE-F492-4607-A38D-852B0EBC91C9",
                      "FcmToken": "",
                      "currencyCode": "QAR",
                      "orderId": "123456",
                      "amount": 100,
                      "customerEmail": "briman.dania@gmail.com",
                      "customerName": "dbriman",
                      "customerPhone": "0944267561",
                      "customerCountry": "qatar",
                      "lang": "ar",
                      "note": ""
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Missing Required Information"
          },
          "409": {
            "description": "Email Already Taken"
          }
        },
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "token": {
                    "type": "string",
                    "example": "E4B73FEE-F492-4607-A38D-852B0EBC91C9",
                    "description": "API token."
                  },
                  "FcmToken": {
                    "type": "string",
                    "description": "Mobile FCM Token"
                  },
                  "currencyCode": {
                    "type": "string",
                    "example": "QAR",
                    "description": "currency code of your country as an ISO 4217 alpha code.The default code is QAR.If you want to support more than one currency, contact with Maktapp support."
                  },
                  "orderId": {
                    "type": "string",
                    "example": "123456"
                  },
                  "amount": {
                    "type": "integer",
                    "example": 100
                  },
                  "customerEmail": {
                    "type": "string",
                    "format": "email",
                    "example": "briman.dania@gmail.com"
                  },
                  "customerName": {
                    "type": "string",
                    "example": "dania.briman"
                  },
                  "customerPhone": {
                    "type": "string",
                    "example": "0944267561",
                    "description": ""
                  },
                  "customerCountry": {
                    "type": "string",
                    "example": "qatar",
                    "description": ""
                  },
                  "lang": {
                    "type": "string",
                    "example": "en",
                    "description": ""
                  },
                  "note": {
                    "type": "string",
                    "description": ""
                  }
                },
                "required": [
                  "token",
                  "orderId",
                  "amount"
                ]
              },
              "examples": {
                "Add onetime payment": {
                  "value": {
                    "token": "E4B73FEE-F492-4607-A38D-852B0EBC91C9",
                    "FcmToken": "",
                    "currencyCode": "QAR",
                    "orderId": "123456",
                    "amount": 100,
                    "customerEmail": "briman.dania@gmail.com",
                    "customerName": "dbriman",
                    "customerPhone": "0944267561",
                    "customerCountry": "qatar",
                    "lang": "ar",
                    "note": ""
                  }
                }
              }
            }
          },
          "description": "Post the necessary fields for the API to create a new payment."
        },
        "description": "This API allows the merchant application to initialize a onetime payment and get the URL of checkout page."
      }
    }
  },
  "components": {
    "schemas": {
      "OnetimePayment": {
        "title": "OnetimePayment",
        "type": "object",
        "description": "This API allows the merchant application to initialize a onetime payment and get the URL of checkout page.",
        "x-examples": {
          "Onetime Payment": {
            "token": "E4B73FEE-F492-4607-A38D-852B0EBC91C9",
            "FcmToken": "",
            "currencyCode": "QAR",
            "orderId": "123456",
            "amount": 100,
            "customerEmail": "briman.dania@gmail.com",
            "customerName": "dbriman",
            "customerPhone": "0944267561",
            "customerCountry": "qatar",
            "lang": "ar",
            "note": ""
          }
        },
        "properties": {
          "token": {
            "type": "string",
            "example": "E4B73FEE-F492-4607-A38D-852B0EBC91C9",
            "description": "API token."
          },
          "FcmToken": {
            "type": "string",
            "description": "Mobile FCM Token"
          },
          "currencyCode": {
            "type": "string",
            "example": "QAR",
            "description": "currency code of your country as an ISO 4217 alpha code.The default code is QAR.If you want to support more than one currency, contact with Maktapp support."
          },
          "orderId": {
            "type": "string",
            "example": "123456"
          },
          "amount": {
            "type": "integer",
            "example": 100
          },
          "customerEmail": {
            "type": "string",
            "format": "email",
            "example": "briman.dania@gmail.com"
          },
          "customerName": {
            "type": "string",
            "example": "dania.briman"
          },
          "customerPhone": {
            "type": "string",
            "example": "0944267561",
            "description": ""
          },
          "customerCountry": {
            "type": "string",
            "example": "qatar",
            "description": ""
          },
          "lang": {
            "type": "string",
            "example": "en",
            "description": ""
          },
          "note": {
            "type": "string",
            "description": ""
          }
        },
        "required": [
          "token",
          "orderId",
          "amount"
        ]
      }
    }
  },
  "tags": [
    {
      "name": "fatora.io"
    },
    {
      "name": "paymentgateway"
    }
  ]
}